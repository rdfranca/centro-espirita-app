
{% extends "base.html" %}
{% block content %}
<h1>Cadastrar Novo Trabalhador</h1>
<form action="/inserir" method="POST">
    <h2>Dados Pessoais</h2>
    <input type="text" name="nome" placeholder="Nome completo" required>
    <input type="text" name="cpf" placeholder="CPF" required>
    <input type="text" name="celular" placeholder="Celular">
    <input type="text" name="profissao" placeholder="Profissão">
    <input type="date" name="nascimento" placeholder="Data de nascimento">

    <h2>Endereço</h2>
    <input type="text" name="cep" placeholder="CEP">
    <input type="text" name="rua" placeholder="Rua">
    <input type="text" name="numero" placeholder="Número">
    <input type="text" name="bairro" placeholder="Bairro">
    <input type="text" name="cidade" placeholder="Cidade">
    <input type="text" name="estado" placeholder="Estado">

    <h2>Setores, Funções e Turnos</h2>
    <div id="vinculos">
        <div class="vinculo">
            <select name="setores[]">
                {% for id, nome in setores %}
                    <option value="{{ id }}">{{ nome }}</option>
                {% endfor %}
            </select>
            <select name="funcoes[]">
                {% for id, nome in funcoes %}
                    <option value="{{ id }}">{{ nome }}</option>
                {% endfor %}
            </select>
            <select name="turnos[]">
                <option value="Manhã">Manhã</option>
                <option value="Tarde">Tarde</option>
                <option value="Noite">Noite</option>
            </select>
        </div>
    </div>
    <button type="button" class="btn" onclick="adicionarVinculo()">Adicionar outro</button>
    <br><br>
    <button type="submit" class="btn">Salvar</button>
</form>
<script>
function adicionarVinculo() {
    const container = document.getElementById("vinculos");
    const div = document.querySelector(".vinculo").cloneNode(true);
    container.appendChild(div);
}
</script>
{% endblock %}
